<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="/ASPIRA/js/jquery.min.js"></script>
<script src="/ASPIRA/js/jquery-ui.min.js"></script>
<style>
/* common styles */
.container-manager {
	width: 83.5%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 17.3%;
	margin-top: 80px;
	margin-top: 80px;
}

.btn {
	line-height: 0.5rem;
}

/* for retail style */
.radio-container {
	display: flex;
	justify-content: center;
	align-items: center;
	height: 8vh;
	/* Keeps the radio buttons centered vertically */
}
/* for filter style */
.filterable .filters input[disabled] {
	background-color: transparent;
	border: none;
	cursor: auto;
	box-shadow: none;
	padding: 0;
	height: auto;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-moz-placeholder {
	color: #333;
}

.filterable .filters input[disabled]:-ms-input-placeholder {
	color: #333;
}

.filterable .filters input[disabled]::-webkit-input-placeholder {
	color: #333;
}
</style>

<script th:inline="javascript">
<!--common script  -->
	function Home() {

		location.href = 'Dashboard';
	}
	function back() {
		window.history.back();
	}

	/* CLICK TO CHANGE LIST SCREEN */
	function clkRetail() {
		location.href = 'CustMaint?formmode=list';
	}
	/* for filter script */

	$(document)
			.ready(
					function() {
						$('.filterable .btn-filter')
								.click(
										function() {
											var $panel = $(this).parents(
													'.filterable'), $filters = $panel
													.find('.filters input'), $tbody = $panel
													.find('.table tbody');
											if ($filters.prop('disabled') == true) {
												$filters
														.prop('disabled', false);
												$filters.first().focus();
											} else {
												$filters.val('').prop(
														'disabled', true);
												$tbody.find('.no-result')
														.remove();
												$tbody.find('tr').show();
											}
										});

						$('.filterable .filters input')
								.keyup(
										function(e) {
											/* Ignore tab key */
											var code = e.keyCode || e.which;
											if (code == '9')
												return;
											/* Useful DOM data and selectors */
											var $input = $(this), inputContent = $input
													.val().toLowerCase(), $panel = $input
													.parents('.filterable'), column = $panel
													.find('.filters th')
													.index($input.parents('th')), $table = $panel
													.find('.table'), $rows = $table
													.find('tbody tr');
											console.log($input);
											/* Dirtiest filter function ever ;) */
											var $filteredRows = $rows
													.filter(function() {
														var value = $(this)
																.find('td').eq(
																		column)
																.text()
																.toLowerCase();
														console.log(value);
														return value
																.indexOf(inputContent) === -1;
													});
											/* Clean previous no-result if exist */
											$table.find('tbody .no-result')
													.remove();
											/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
											$rows.show();
											$filteredRows.hide();
											/* Prepend no-result row if all rows are filtered */
											if ($filteredRows.length === $rows.length) {
												$table
														.find('tbody')
														.prepend(
																$('<tr class="no-result text-center"><td colspan="'
																		+ $table
																				.find('.filters th').length
																		+ '">No result found</td></tr>'));
											}
										});
					});
</script>
<script>
	/* for click to customer id */
	function ClickCustId(a) {
		var cust_id = a.getAttribute("data-cust_id");
		location.href = 'CustMaint?formmode=viewCust&cust_id=' + cust_id;
	}
</script>
</head>
<body>
	<div th:insert="BGLSHeaderMenu :: header"></div>

	<div class="container-manager">
		<div class="row">
			<div class="col-sm-11 ml-5 mt-2" style="font-size: 1rem;">
				<!-- ------------------------------------RETAIL---------------------------------- -->
				<div th:if="${formmode}=='retail'">
					<div class="card w-100 border panel panel-primary filterable">
						<div class="card-header"
							style="background-color: #e9ecef; height: 50px">
							<div class="float-left">
								<h6 style="font-size: 1.2rem;">CUSTOMER MAINTENANCE</h6>
							</div>
						</div>
						<div class="card-body">
							<div class="radio-container">
								<label> <input type="radio" name="accountType"
									value="retail" onclick="clkRetail()"> RETAIL
								</label>
							</div>

						</div>
						<div class="card-footer text-center"
							style="background-color: #e9ecef">


							<button class="btn btn-primary p-2" onclick="Home();">Home</button>
							<button class="btn btn-primary p-2" onclick="back()">Back</button>

						</div>
					</div>




				</div>
				<!-- for list screen  -->
				<div th:if="${formmode}=='list'">


					<div class="panel panel-primary filterable">

						<div class="card w-100 border panel panel-primary filterable">
							<div class="card-header"
								style="background-color: #e9ecef; height: 50px">
								<div class="float-left">
									<h6 style="font-size: 1.2rem;">CUSTOMER MAINTENANCE- LIST</h6>
								</div>
								<div style="float: right;">
									<button type="button"
										class="btn btn-xs btn-primary btns p-2 border btn-filter ">Filter</button>
								</div>

							</div>
							<div class="card-body"
								style="overflow-y: auto; border: 1px solid #ddd;">
								<div class="table-responsive mt-2" id="cardBody">
									<table class="table table-bordered  table-hover table-sm">
										<thead
											style="position: sticky; top: 0; background-color: #f8f9fa; z-index: 1;">
											<tr class="filters">
												<th style="width: 8%"><input type="text"
													class="form-control font-weight-bold" placeholder="S.NO"
													disabled></th>
												<th style="width: 8%"><input type="text"
													class="form-control font-weight-bold" placeholder="Cust Id"
													disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Cust Name" disabled></th>

												<th><input type="text"
													class="form-control font-weight-bold" placeholder="Mob No"
													disabled></th>
												<th><input type="text"
													class="form-control font-weight-bold"
													placeholder="Email Id" disabled></th>

												<th><input type="text"
													class="form-control font-weight-bold" placeholder="Status"
													disabled></th>


											</tr>
										</thead>

										<tbody id="CustCorp">

											<tr th:each="client, iterator : ${client_list}"
												class="userlist">
												<td style="font-size: 14px" th:text="${iterator.index +1}"></td>

												<td style="font-size: 14px" class="text-primary"
													th:attr="data-cust_id = ${client.customer_id}"
													th:text="${client.customer_id}"
													onclick="ClickCustId(this);"></td>
												<td style="font-size: 14px" th:text="${client.first_name}"></td>

												<td style="font-size: 14px" th:text="${client.mobile_phone}">TEST</td>
												<td style="font-size: 14px"
													th:text="${client.email_address}">TEST</td>
												<td style="font-size: 14px" th:text="${client.client_state}">TEST</td>

											</tr>
										</tbody>
									</table>
								</div>

							</div>
							<div class="card-footer text-center"
								style="background-color: #e9ecef">


								<button class="btn btn-primary p-2" onclick="Home();">Home</button>
								<button class="btn btn-primary p-2" onclick="back()">Back</button>

							</div>
						</div>

					</div>


				</div>
				<!-- for view screen  -->
				<div th:if="${formmode}=='viewCust'">


					<div class="panel panel-primary filterable">

						<div class="card w-100 border panel panel-primary filterable">
							<div class="card-header"
								style="background-color: #e9ecef; height: 50px">
								<div class="float-left">
									<h6 style="font-size: 1.2rem;">CUSTOMER MAINTENANCE- VIEW</h6>
								</div>


							</div>
							<div class="card-body"
								style="overflow-y: auto; border: 1px solid #ddd;">


								<div class="row formline mt-2">
									<label class="col-sm-2">Customer Id</label>
									<div class="col-sm-2">
										<input type="text" id="customer_id"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.customer_id}" name="customer_id"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">First Name </label>
									<div class="col-sm-2">
										<input type="text" id="ca_last_name"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.first_name}" name="ca_last_name"
											autocomplete="off" readonly>
									</div>


								</div>
								<div class="row formline mt-2">
									<label class="col-sm-2">Last Name</label>
									<div class="col-sm-2">
										<input type="text" id="last_name"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.last_name}" name="last_name"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">Mobile No </label>
									<div class="col-sm-2">
										<input type="text" id="mobile_phone"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.mobile_phone}" name="mobile_phone"
											autocomplete="off" readonly>
									</div>
								</div>
								<div class="row formline mt-2">
									<label class="col-sm-2">Email Id</label>
									<div class="col-sm-2">
										<input type="text" id="email_address"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.email_address}" name="email_address"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">preferred Language</label>
									<div class="col-sm-2">
										<input type="text" id="preferred_language"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.preferred_language}" name="preferred_language"
											autocomplete="off" readonly>
									</div>


								</div>
                        <div class="row formline mt-2">
									<label class="col-sm-2">DOB </label>
									<div class="col-sm-2">
										<input type="text" id="birth_date"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${#dates.format(view?.birth_date, 'dd-MM-yyyy')}"
											 name="birth_date"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">Gender </label>
									<div class="col-sm-2">
										<input type="text" id="gender"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.gender}" name="gender"
											autocomplete="off" readonly>
									</div>


								</div>
                           <div class="row formline mt-2">
									<label class="col-sm-2">Loan Cycle </label>
									<div class="col-sm-2">
										<input type="text" id="loan_cycle"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.loan_cycle}" name="loan_cycle"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">Group Loan Cycle </label>
									<div class="col-sm-2">
										<input type="text" id="group_loan_cycle"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.group_loan_cycle}" name="group_loan_cycle"
											autocomplete="off" readonly>
									</div>


								</div>
                          <div class="row formline mt-2">
									<label class="col-sm-2">Address Line 1 </label>
									<div class="col-sm-2">
										<input type="text" id="address_line1"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.address_line1}" name="address_line1"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">Address Line 2 </label>
									<div class="col-sm-2">
										<input type="text" id="address_line2"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.address_line2}" name="address_line2"
											autocomplete="off" readonly>
									</div>


								</div>
								 <div class="row formline mt-2">
									<label class="col-sm-2">Address Line 3 </label>
									<div class="col-sm-2">
										<input type="text" id="address_line3"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.address_line3}" name="address_line3"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">city </label>
									<div class="col-sm-2">
										<input type="text" id="city"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.city}" name="city"
											autocomplete="off" readonly>
									</div>


								</div>
								 <div class="row formline mt-2">
									<label class="col-sm-2">Suburb </label>
									<div class="col-sm-2">
										<input type="text" id="suburb"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
											th:value="${view?.suburb}" name="suburb"
											autocomplete="off" readonly>
									</div>
									<div class="col-sm-1"></div>
									<label class="col-sm-2">AsonDate </label>
									<div class="col-sm-2">
										<input type="text" id="asondate"
											class="form-control form-control-sm bg-white border border-dark bg-white border border-dark"
										 th:value="${#dates.format(view?.asondate, 'dd-MM-yyyy')}" name="asondate"
											autocomplete="off" readonly>
									</div>


								</div>
							</div>
							<div class="card-footer text-center"
								style="background-color: #e9ecef">

								<button class="btn btn-primary p-2" onclick="Home();">Home</button>
								<button class="btn btn-primary p-2" onclick="back()">Back</button>
							</div>
						</div>

					</div>


				</div>
			</div>
		</div>
	</div>


</body>
</html>