<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="/ASPIRA/js/jquery.min.js"></script>
	<script src="/ASPIRA/js/jquery-ui.min.js"></script>
	<style>
		.btn {
			line-height: 0.5rem;
		}

		.table-bordered td,
		.table-bordered th {
			font-size: smaller;
		}

		.container-manager {
			width: 83.5%;
			padding-right: 15px;
			padding-left: 15px;
			margin-right: auto;
			margin-left: 17.3%;
			margin-top: 80px;
			margin-top: 80px;
		}

		.table .thead-light th {
			color: #495057;
			background-color: #e9ecef;
			border-color: #dee2e6;
			width: 23px;
		}
	</style>
	<style>
		.modal {
			display: none;
			/* Hidden by default */
			position: absolute;
			/* Stay in place */
			z-index: 1;
			/* Location of the box */
			left: 0;
			top: 0;
			width: 100%;
			/* Full width */
			height: 100%;
			/* Full height */
			overflow: auto;
			/* Enable scroll if needed */
			background-color: rgb(0, 0, 0);
			/* Fallback color */
			background-color: rgba(0, 0, 0, 0.4);
			/* Black w/ opacity */
		}

		/* Modal Content */
		.modal-content {
			background-color: #fefefe;
			margin: auto;
			padding: 20px;
			border: 1px solid #888;
			width: 100%;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			-webkit-animation-name: animatetop;
			-webkit-animation-duration: 0.4s;
			animation-name: animatetop;
			animation-duration: 0.4s
		}

		.modal-pass {
			background-color: #fefefe;
			margin: 15% auto;
			padding: 20px;
			border: 1px solid #888;
			width: 40%;
			height: 25%;
			margin-left: 400PX;
			margin-right: auto;
			border-radius: 10px;
			box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
			/* Adding shadow for depth */
			font-family: Arial, sans-serif;
			/* Using a more common font */
		}

		.close {
			color: red;
			font-size: 28px;
			font-weight: bold;
		}
	</style>
	<style>
		.password-info {
			visibility: hidden;
			width: 320px;
			background-color: #333;
			color: #fff;
			text-align: left;
			border-radius: 10px;
			padding: 10px;
			position: absolute;
			z-index: 1;
			top: calc(100% + 10px);
			left: 50%;
			transform: translateX(-50%);
			opacity: 0;
			transition: opacity 0.3s;
		}

		input:hover+.password-info {
			visibility: visible;
			opacity: 0.8;
		}

		.tablinks.active {
			background-color: #007bff;
			color: #fff;
		}

		.big-btn {
			font-size: 16px;
		}
	</style>
	<script>
		function checkListModal() {
			var checkListModal = document.getElementById('checkListModal');
			checkListModal.style.display = "block";
		}
		function documentsModal() {
			var documentsModal = document.getElementById('documentsModal');
			documentsModal.style.display = "block";
		}
		function approvalsModal() {
			var approvalsModal = document.getElementById('approvalsModal');
			approvalsModal.style.display = "block";
		}
		function alertsModal() {
			var alertsModal = document.getElementById('alertsModal');
			alertsModal.style.display = "block";
		}
		function closeaddmodel() {
			var CloseAlerts = document.getElementById('CloseAlerts');
			CloseAlerts.style.display = "none";
			var CloseCheckList = document.getElementById('CloseCheckList');
			CloseCheckList.style.display = "none";
			var CloseApprovals = document.getElementById('CloseApprovals');
			CloseApprovals.style.display = "none";
			var CloseDocuments = document.getElementById('CloseDocuments');
			CloseDocuments.style.display = "none";
		}

	</script>

	<script>
		function Home() {

			location.href = 'Dashboard';
		}

		function Back() {
			window.history.back();
		}

	</script>


	<script>
		//Filter Table mela
		$(document)
			.ready(
				function () {
					$('.filterable .btn-filter')
						.click(
							function () {
								var $panel = $(this).parents(
									'.filterable'), $filters = $panel
										.find('.filters input'), $tbody = $panel
											.find('.table tbody');
								if ($filters.prop('disabled') == true) {
									$filters
										.prop('disabled', false);
									$filters.first().focus();
								} else {
									$filters.val('').prop(
										'disabled', true);
									$tbody.find('.no-result')
										.remove();
									$tbody.find('tr').show();
								}
							});

					$('.filterable .filters input')
						.keyup(
							function (e) {
								/* Ignore tab key */
								var code = e.keyCode || e.which;
								if (code == '9')
									return;
								/* Useful DOM data and selectors */
								var $input = $(this), inputContent = $input
									.val().toLowerCase(), $panel = $input
										.parents('.filterable'), column = $panel
											.find('.filters th')
											.index($input.parents('th')), $table = $panel
												.find('.table'), $rows = $table
													.find('tbody tr');
								/* Dirtiest filter function ever ;) */
								var $filteredRows = $rows
									.filter(function () {
										var value = $(this)
											.find('td').eq(
												column)
											.text()
											.toLowerCase();
										return value
											.indexOf(inputContent) === -1;
									});
								/* Clean previous no-result if exist */
								$table.find('tbody .no-result')
									.remove();
								/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
								$rows.show();
								$filteredRows.hide();
								/* Prepend no-result row if all rows are filtered */
								if ($filteredRows.length === $rows.length) {
									$table
										.find('tbody')
										.prepend(
											$('<tr class="no-result text-center"><td colspan="'
												+ $table
													.find('.filters th').length
												+ '">No result found</td></tr>'));
								}
							});
				});
	</script>


	<script>
		/* function for the table scroll */
		function adjustHeight() {
			const cardBody = document.getElementById("cardBody");
			const viewportHeight = window.innerHeight;
			cardBody.style.maxHeight = `${viewportHeight * 0.95}px`; // Adjust 80% of the viewport height
		}

		window.addEventListener("resize", adjustHeight);
		document.addEventListener("DOMContentLoaded", adjustHeight);

		function goBack() { // Use this to go to the previous page in browser
	 history.back();
}


		function addscheme() {
			location.href = "Parameteradd";
		}

		function rowClick(Id) {
			// Example: navigate to URL with refId
			location.href = './Parameterview?id=' + Id + '&formmode=view';
		}


		function redirectToVerify(element) {
			// Get the ID from the clicked element's data attribute
			const Id = element.getAttribute('data-refid');
			// Navigate to verify mode
			location.href = './Parameterview?id=' + Id + '&formmode=verify';
		}

		function redirectToDelete(element) {
			const refId = element.getAttribute('data-refid');
			if (refId) {
				location.href = './Parameterdelete?id=' + refId;
			}
		}

		function redirectToEdit(element) {
			const refId = element.getAttribute('data-refid');
			if (refId) {
				location.href = './Parameterupdate?id=' + refId;
			}
		}




	</script>




</head>


<body>

	<div class="col-sm-2">
		<div th:insert="BGLSHeaderMenu :: header"></div>
	</div>
	<!---------------------User List Starts------------------------------------------------------->
	<!-- Start Content-->
	<div class="container-manager">
		<div class="row">
			<div class="col-sm-11 ml-5 mt-2" style="font-size: 0.8rem;">


				<!-- ------------------------------------Organization Main---------------------------------- -->
				<div th:if="${formmode}=='list'">
					<div class="card filterable">

						<div class="card-header" style="background-color: #e9ecef; height: 50px">
							<div class="float-left">
								<h6 style="font-size: 1.2rem; color: black;">PARAMETER LIST
								</h6>
							</div>
							<div class="float-right">
								<!-- <button class="btn-primary big-btn" onclick="addparam()">Add</button> -->
								<button class="btn-primary big-btn" onclick="addscheme()">Add</button>
								<button class="btn-primary big-btn btn-filter">Filter</button>
							</div>



						</div>

						<div class="mt-3"
							style="padding: 4px 4px; position: relative; display: flex; justify-content: space-around; width: 100%;">
							<!-- Tab buttons -->
							<button class="tablinks rounded-pill" id="RefButton" onclick="RefCode(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Reference
								Code Maintenance</button>
							<button class="tablinks rounded-pill" id="GLButton" onclick="GLStruct(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">GL
								Structure</button>
							<button class="tablinks active rounded-pill" id="param" onclick="SchemeCode(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Scheme
								Codes</button>
							<button class="tablinks rounded-pill" id="chartOfAccounts" onclick="Chart(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Chart
								of Accounts</button>
							<button class="tablinks rounded-pill" id="accountLedger" onclick="Account(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Account
								Ledger</button>

						</div>

						<div class="card-body" style="overflow-y: auto; border: 1px solid #ddd;">
							<div class="table-responsive" id="cardBody">
								<table class="table  table-bordered  table-hover table-sm"
									style="margin-bottom: 0px; font-size: initial;" id="usertable">
									<thead class="thead-light"
										style="position: sticky; top: 0; background-color: #f8f9fa; z-index: 1;">
										<tr class="filters">
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="Product" disabled></th>
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="ID" disabled></th>
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="Category" disabled></th>
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="Type" disabled></th>
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="Description" disabled></th>
											<th><input type="text" class="form-control font-weight-bold"
													placeholder="Status" disabled></th>
											<!-- <th>SELECT</th> -->
										</tr>
									</thead>

									<tbody>

										<tr th:each="tabledata, iterator : ${lms_schemes}" class="userlist">

											<td style="width: 150px; font-size: 15px;" th:text="${tabledata.product}">
											</td>
											<td style="width: 80px; font-size: 15px; color: #007bff; cursor: pointer;"
												th:attr="onclick=|rowClick('${tabledata.id}')|"
												th:text="${tabledata.id}">
											</td>
											<td style="width: 100px; font-size: 15px;"
												th:text="${tabledata.productCategory}"></td>
											<td style="width: 100px; font-size: 15px;"
												th:text="${tabledata.productType}"></td>
											
											<td style="
												max-width: 300px; 
												font-size: 15px; 
												white-space: nowrap; 
												overflow: hidden; 
												text-overflow: ellipsis;"
												th:text="${tabledata.productDescription}"
												title="${tabledata.productDescription}">
											</td>


											<td style="width: 100px; font-size: 15px; text-align: center;"
												th:text="${tabledata.state == 'Y' ? 'Active' : 'Inactive'}">
											</td>


											<!-- <td class="text-center" style="width: 100px;">
												<div class="dropdown action-dropdown">
													<button class="btn btn-action dropdown-toggle" style="padding:0px"
														type="button" id="dropdownMenuButton" title="Action"
														data-toggle="dropdown" aria-haspopup="true"
														aria-expanded="false">
														Action
													</button>

													<div class="dropdown-menu" style="padding:0px"
														aria-labelledby="dropdownMenuButton">
														<a class="dropdown-item edit-item"
															th:attr="data-refid=${tabledata.id}" title="Edit"
															onclick="redirectToEdit(this)">Edit</a>

														<div class="dropdown-divider"></div>

														<a class="dropdown-item delete-item"
															th:attr="data-refid=${tabledata.id}" title="Delete"
															onclick="redirectToDelete(this)">Delete</a>

														<div class="dropdown-divider"></div>

														<a class="dropdown-item delete-item"
															th:attr="data-refid=${tabledata.id}" title="Verify"
															onclick="redirectToVerify(this)">Verify</a>
													</div>
												</div>
											</td> -->

											
										</tr>
									</tbody>
								</table>
							</div>
						</div>


					</div>
				</div>
				<div class="card-footer text-center " style="background-color: #e9ecef">


					<button class="btn-primary big-btn" onclick="Home();">Home</button>


					<button class="btn-primary big-btn" onclick="Back();">Back</button>

				</div>

			</div>
		</div>
	</div>


	<div class="modal fade" data-backdrop="false" data-keyboard="false" id="mypopup" tabindex="-1" role="dialog"
		aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content"
				style="position: fixed; left: 50%; transform: translate(-50%, 0%); width: 30%; height: 25%;">
				<div class="card">
					<!-- Header with Alert Message -->
					<div class="modal-header">
						<h5 class="modal-title" id="popupAlert">Alert Message</h5>
						<!-- Alert message will appear here -->
					</div>

					<!-- Body with Response -->
					<div class="modal-body" style="text-align: center;">
						<h6 id="popupmsg"></h6>
						<!-- Response will be displayed here -->
					</div>

					<!-- Footer with Close Button -->
					<div class="modal-footer">
						<button type="button" class="btn-primary big-btn" data-dismiss="modal"
							onclick="goBack();">Close</button>
						<!-- Calls goBack function -->
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- Modal -->
	<div class="modal" id="submit_model" tabindex="-1" role="dialog" aria-labelledby="alertLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="alertLabel">Alert</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="alertmsg">
					<!-- Message will be inserted here -->
				</div>
				<div class="modal-footer">
					<button type="button" class="btn-primary big-btn" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>



	<script>

	</script>
</body>


</html>