<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="/ASPIRA/js/jquery.min.js"></script>
<script src="/ASPIRA/js/jquery-ui.min.js"></script>
<style>
.btn {
	line-height: 0.5rem;
}

.table-bordered td, .table-bordered th {
	font-size: smaller;
}

.container-manager {
	width: 83.5%;
	padding-right: 15px;
	padding-left: 15px;
	margin-right: auto;
	margin-left: 17.3%;
	margin-top: 80px;
	margin-top: 80px;
}

.table .thead-light th {
	color: #495057;
	background-color: #e9ecef;
	border-color: #dee2e6;
	width: 23px;
}
.filterable .filters input[disabled]::-webkit-input-placeholder {
		color: #333;
	}

	.filterable .filters input[disabled]::-moz-placeholder {
		color: #333;
	}

	.filterable .filters input[disabled]:-ms-input-placeholder {
		color: #333;
	}
	.filterable .filters input[disabled] {
		background-color: transparent;
		border: none;
		cursor: auto;
		box-shadow: none;
		padding: 0;
		height: auto;
	}
</style>
<style>
.modal {
	display: none;
	/* Hidden by default */
	position: absolute;
	/* Stay in place */
	z-index: 1;
	/* Location of the box */
	left: 0;
	top: 0;
	width: 100%;
	/* Full width */
	height: 100%;
	/* Full height */
	overflow: auto;
	/* Enable scroll if needed */
	background-color: rgb(0, 0, 0);
	/* Fallback color */
	background-color: rgba(0, 0, 0, 0.4);
	/* Black w/ opacity */
}

/* Modal Content */
.modal-content {
	background-color: #fefefe;
	margin: auto;
	padding: 20px;
	border: 1px solid #888;
	width: 100%;
	box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0
		rgba(0, 0, 0, 0.19);
	-webkit-animation-name: animatetop;
	-webkit-animation-duration: 0.4s;
	animation-name: animatetop;
	animation-duration: 0.4s
}

.modal-pass {
	background-color: #fefefe;
	margin: 15% auto;
	padding: 20px;
	border: 1px solid #888;
	width: 40%;
	height: 25%;
	margin-left: 400PX;
	margin-right: auto;
	border-radius: 10px;
	box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.2);
	/* Adding shadow for depth */
	font-family: Arial, sans-serif; /* Using a more common font */
}

.close {
	color: red;
	font-size: 28px;
	font-weight: bold;
}
</style>
<style>
.password-info {
	visibility: hidden;
	width: 320px;
	background-color: #333;
	color: #fff;
	text-align: left;
	border-radius: 10px;
	padding: 10px;
	position: absolute;
	z-index: 1;
	top: calc(100% + 10px);
	left: 50%;
	transform: translateX(-50%);
	opacity: 0;
	transition: opacity 0.3s;
}

input:hover+.password-info {
	visibility: visible;
	opacity: 0.8;
}

.tablinks.active {
	background-color: #007bff;
	color: #fff;
}
.big-btn {
  font-size: 16px;
}
</style>

<script>
	function Home() {

		location.href = 'Dashboard';
	}

	function Back() {
		window.history.back();
	}
	
	function add() {
		//alert("add")
		location.href = './refCodeMain?formmode=nav';
	}
	
	function list() {
		//alert("add")
		location.href = './refCodeMain?formmode=list';
	}
	

	function RefCode(a) {
		event.preventDefault();
		var ref = document.getElementById("RefButton");
		ref.classList.add("active");

		var gl = document.getElementById("GLButton");
		gl.classList.remove("active");

		 var scheme = document.getElementById("param");
		scheme.classList.remove("active"); 

		var chart = document.getElementById("chartOfAccounts");
		chart.classList.remove("active");

		var act = document.getElementById("accountLedger");
		act.classList.remove("active");

		location.href = './refCodeMain?formmode=list';
	}

	function GLStruct(a) {
		event.preventDefault();
		var ref = document.getElementById("RefButton");
		ref.classList.remove("active");

		var gl = document.getElementById("GLButton");
		gl.classList.add("active");

		 var scheme = document.getElementById("param");
		scheme.classList.remove("active"); 

		var chart = document.getElementById("chartOfAccounts");
		chart.classList.remove("active");

		var act = document.getElementById("accountLedger");
		act.classList.remove("active");

		location.href = './glcode';
	}

	function SchemeCode(a) {
		event.preventDefault();
		var ref = document.getElementById("RefButton");
		ref.classList.remove("active");

		var gl = document.getElementById("GLButton");
		gl.classList.remove("active");

		var scheme = document.getElementById("param");
		scheme.classList.add("active"); 

		var chart = document.getElementById("chartOfAccounts");
		chart.classList.remove("active");

		var act = document.getElementById("accountLedger");
		act.classList.remove("active");

		location.href = './Parameter';
	}

	function Chart(a) {
		event.preventDefault();
		var ref = document.getElementById("RefButton");
		ref.classList.remove("active");

		var gl = document.getElementById("GLButton");
		gl.classList.remove("active");

		var scheme = document.getElementById("param");
		scheme.classList.remove("active");

		var chart = document.getElementById("chartOfAccounts");
		chart.classList.add("active");

		var act = document.getElementById("accountLedger");
		act.classList.remove("active");

		location.href = './chartOfAccounts';
	}

	function Account(a) {
		event.preventDefault();
		var ref = document.getElementById("RefButton");
		ref.classList.remove("active");

		var gl = document.getElementById("GLButton");
		gl.classList.remove("active");

		var scheme = document.getElementById("param");
		scheme.classList.remove("active");

		var chart = document.getElementById("chartOfAccounts");
		chart.classList.remove("active");

		var act = document.getElementById("accountLedger");
		act.classList.add("active");

		location.href = './accountLedger';
	}

	function updateTypeDescription() {
		const selectedValue = $('#ref_type').val();
		//alert(selectedValue);

		$.ajax({
			url : './getTypeDescription',
			type : 'GET',
			data : {
				refType : selectedValue,

			},
			success : function(data) {
				//alert(data);

				var values = data.split(" - ");

				// Set values to respective fields
				$('#ref_type_desc').val(values[0] || "");
				$('#module_id').val(values[1] || "");
			},
		});

	}
	
	function Submit() {

	
			$.ajax({
				url: './refAdd',
				data: $("#refForm").serialize(),
				type: 'POST',
				success: function (data) {
					$("#alertmsg").text(data);
					$('#alert').modal('show');
				}
			});
			
	}
		
	
</script>

<script>
	/* function for the table scroll */
	function adjustHeight() {
		const cardBody = document.getElementById("cardBody");
		const viewportHeight = window.innerHeight;
		cardBody.style.maxHeight = `${viewportHeight * 0.90}px`; // Adjust 80% of the viewport height
	}

	window.addEventListener("resize", adjustHeight);
	document.addEventListener("DOMContentLoaded", adjustHeight);
</script>
<script>
	function clkLease() {

		location.href = './Account_Balances?formmode=Lease';

	}
	function clkDeposit() {
		location.href = './Account_Balances?formmode=Deposit';
	}
</script>
	<script>
		function leasedate() {
			var date_of_loan = document.getElementById('date_of_loan').value;
			//alert(date_of_loan);
			console.log(date_of_loan)

			if (date_of_loan) {
				// Split the date string by the hyphen
				var dateParts = date_of_loan.split("-");

				// Rearrange and format to dd-mm-yyyy
				var formattedDate = dateParts[2] + "-" + dateParts[1] + "-"
						+ dateParts[0];

				// Display the converted date
				//alert(formattedDate);
			} else {
				//alert("Please select a date.");
				return; // Exit the function if no date is selected
			}

			// Make the AJAX call only after the date is formatted
			$
					.ajax({
						type : 'GET',
						url : './LeaseBalance',
						data : {
							date_of_loan : formattedDate
						},
						success : function(response) {
							console.log("Formatted date_of_loan: "
									+ formattedDate);
							var tableBody = $('#leasetbody');
							tableBody.empty(); // Clear existing rows

							if (response.length === 0) {
								// If no data, show a 'No data available' message
								var noDataRow = '<tr><td colspan="7" class="text-center text-danger">No data available</td></tr>';
								tableBody.append(noDataRow);
							} else {
								// Populate the table with data from the response
								$
										.each(
												response,
												function(index, leaseaccount) {
													var dateString = leaseaccount[3];
													var formattedDate = formatCustomDate(dateString);

													var formattedLoanAmount = Number(
															leaseaccount[4])
															.toLocaleString(
																	'en-US',
																	{
																		minimumFractionDigits : 2,
																		maximumFractionDigits : 2
																	});
													var formatteddisb = Number(
															leaseaccount[5])
															.toLocaleString(
																	'en-US',
																	{
																		minimumFractionDigits : 2,
																		maximumFractionDigits : 2
																	});

													var row = '<tr>'
															+ '<td>'
															+ (index + 1)
															+ '</td>'
															+ '<td > '
															+ leaseaccount[0]
															+ ' </td>'
															+ '<td class="text-primary" data-acct="' + leaseaccount[1] + '" onclick="clicktoacctloan(this)">'
															+ leaseaccount[1]
															+ '</td>'
															+ '<td>'
															+ leaseaccount[2]
															+ '</td>'
															+ '<td>'
															+ formattedDate
															+ '</td>'
															+ '<td class="text-right">'
															+ formattedLoanAmount
															+ '</td>'
															+ '<td  class="text-right">'
															+ formatteddisb
															+ '</td>' + '</tr>';
													tableBody.append(row);
												});
							}

						},
						error : function(xhr, status, error) {
							// Log the error for debugging purposes
							console.error("Error: " + error);
							$('#errorMessage')
									.text(
											'Error fetching account details. Please try again later.');
							$('#errorModal').modal('show');
						}
					});
		}

		function depositdate() {
			var deposit_period = document.getElementById('deposit_periods').value;
			//alert(deposit_period);

			if (deposit_period) {
				// Split the date string by the hyphen
				var dateParts = deposit_period.split("-");

				// Rearrange and format to dd-mm-yyyy
				var formattedDate = dateParts[2] + "-" + dateParts[1] + "-"
						+ dateParts[0];

				// Display the converted date
				//alert(formattedDate);
			} else {
				//alert("Please select a date.");
				return; // Exit the function if no date is selected
			}

			// Make the AJAX call only after the date is formatted
			$
					.ajax({
						type : 'GET',
						url : './DepositBalance',
						data : {
							deposit_period : formattedDate
						},
						success : function(response) {
							console.log("Formatted date_of_loan: "
									+ formattedDate);
							var tableBody = $('#deposittbody');
							tableBody.empty(); // Clear existing rows

							if (response.length === 0) {
								// If no data, show a 'No data available' message
								var noDataRow = '<tr><td colspan="10" class="text-center text-danger">No data available</td></tr>';
								tableBody.append(noDataRow);
							} else {
								// Populate the table with data from the response
								$
										.each(
												response,
												function(index, depaccount) {
													var dateString1 = depaccount[3];
													var formattedDate1 = formatCustomDate(dateString1);
													var dateString2 = depaccount[7];
													var formattedDate2 = formatCustomDate(dateString2);

													var formatteddepAmount = Number(
															depaccount[4])
															.toLocaleString(
																	'en-US',
																	{
																		minimumFractionDigits : 2,
																		maximumFractionDigits : 2
																	});
													var formatteddepAmount1 = Number(
															depaccount[10])
															.toLocaleString(
																	'en-US',
																	{
																		minimumFractionDigits : 2,
																		maximumFractionDigits : 2
																	});

													var row = '<tr>' + '<td>'
															+ (index + 1)
															+ '</td>'
															+ '<td> '
															+ depaccount[0]
															+ ' </td>'
															+ '<td>'
															+ depaccount[1]
															+ '</td>'
															+ '<td>'
															+ depaccount[2]
															+ '</td>'
															+ '<td>'
															+ formattedDate1
															+ '</td>'
															+ '<td class="text-right">'
															+ formatteddepAmount
															+ '</td>' + '<td >'
															+ depaccount[5]
															+ '</td>' + '<td >'
															+ depaccount[6]
															+ '</td>' + '<td>'
															+ formattedDate2
															+ '</td>' 
															+ '<td>'
															+ formatteddepAmount1
															+ '</td>' 
															+ '</tr>';
													tableBody.append(row);
												});
							}

						},
						error : function(xhr, status, error) {
							// Log the error for debugging purposes
							console.error("Error: " + error);
							$('#errorMessage')
									.text(
											'Error fetching account details. Please try again later.');
							$('#errorModal').modal('show');
						}
					});
		}

		function formatCustomDate(dateString) {
			dateString = String(dateString);

			// Extract the part before the 'T'
			var datePart = dateString.split("T")[0]; // "05-15-2024"

			// Split the date part by '-'
			var dateParts = datePart.split("-");

			// Rearrange to dd-MM-yyyy
			//  var formattedDate = dateParts[1] + "-" + "-" + dateParts[2];
			/* 	var formattedDate = dateParts[1] + "-" + dateParts[2] + "-"
						+ dateParts[0]; */
			var formattedDate = dateParts[2] + "-" + dateParts[1] + "-"
					+ dateParts[0];
			return formattedDate;
		}

		function clicktoacctloan(a) {
			var loan_accountno = a.getAttribute("data-acct");

			location.href = 'drawDownLoanMaintanace?formmode=view&loan_accountno='
					+ loan_accountno;

		}
		function clicktoacctdeposit(a) {
			var actno = a.getAttribute("data-acct");

			location.href = 'deposits?formmode=view&actno=' + actno;

		}
		
		function viewCustomerMaster(a) {

			event.preventDefault();
			/*var button = document.getElementById('verifyButton');
			button.disabled = true;*/
			var accountNo = a.getAttribute('data-loan_accountno');
			var customer_id = a.getAttribute('data-customer_id');
			
			console.log(customer_id+" "+accountNo);
			
			location.href='CustomerMaintenanceFromLease?formmode=viewCust&customer_id='+customer_id+'&loanAcctNo='+accountNo;
			
		}
	</script>
	<script>
	$(document)
	.ready(
		function () {
			$('.filterable .btn-filter')
				.click(
					function () {
						var $panel = $(this).parents(
							'.filterable'), $filters = $panel
								.find('.filters input'), $tbody = $panel
									.find('.table tbody');
						if ($filters.prop('disabled') == true) {
							$filters
								.prop('disabled', false);
							$filters.first().focus();
						} else {
							$filters.val('').prop(
								'disabled', true);
							$tbody.find('.no-result')
								.remove();
							$tbody.find('tr').show();
						}
					});

			$('.filterable .filters input')
				.keyup(
					function (e) {
						/* Ignore tab key */
						var code = e.keyCode || e.which;
						if (code == '9')
							return;
						/* Useful DOM data and selectors */
						var $input = $(this), inputContent = $input
							.val().toLowerCase(), $panel = $input
								.parents('.filterable'), column = $panel
									.find('.filters th')
									.index($input.parents('th')), $table = $panel
										.find('.table'), $rows = $table
											.find('tbody tr');
						console.log($input);
						/* Dirtiest filter function ever ;) */
						var $filteredRows = $rows
							.filter(function () {
								var value = $(this)
									.find('td').eq(
										column)
									.text()
									.toLowerCase();
								console.log(value);
								return value
									.indexOf(inputContent) === -1;
							});
						/* Clean previous no-result if exist */
						$table.find('tbody .no-result')
							.remove();
						/* Show all rows, hide filtered ones (never do that outside of a demo ! xD) */
						$rows.show();
						$filteredRows.hide();
						/* Prepend no-result row if all rows are filtered */
						if ($filteredRows.length === $rows.length) {
							$table
								.find('tbody')
								.prepend(
									$('<tr class="no-result text-center"><td colspan="'
										+ $table
											.find('.filters th').length
										+ '">No result found</td></tr>'));
						}
					});
		});

	function rowClick(refId) {
		// Example: navigate to URL with refId
		window.location.href = './customer?id=' + refId;
	}


    // function redirectToEdit(radio) {
    //     const refId = radio.value;
    //     if (refId) {
    //         window.location.href = './customer/refedit?id=' + refId;
    //     }
    // }

	function redirectToEdit(element) {
    let refId;

    // If the element is a radio input, use its value
    if (element && element.value) {
        refId = element.value;
    } 
    // If element has a data-refid attribute (e.g., from dropdown)
    else if (element && element.getAttribute('data-refid')) {
        refId = element.getAttribute('data-refid');
    }
    // Fallback: try to get from hidden input in form
    else {
        const refInput = document.getElementById('ref_id');
        if (refInput) refId = refInput.value;
    }

    if (refId) {
        // Redirect to edit page with ref_id as query param
        window.location.href = './customer/refedit?id=' + encodeURIComponent(refId);
    } else {
        alert("Reference ID not found!");
    }
}


	function redirectToDelete(element) {
		const refId = element.getAttribute('data-refid');
		if (refId) {
            window.location.href = './customer/refdelete?id=' + refId;
        }
	}


document.addEventListener("DOMContentLoaded", function () {
    // List of types
    const refTypes = [
        "A01","A02","A03","A04","A05","A06","A07","A08","A09","A10",
        "A11","A12","A13","A14","A15","A16","A17","A18","A19","A20",
        "A21","A22","A23","A24","A25","A26","A27","A28","A29","A30",
        "A31","A32","EMP_PRO_01","EMP_PRO_02","EMP_PRO_03","EMP_PRO_04",
        "EMP_PRO_05","EMP_PRO_06","EMP_PRO_07","EMP_PRO_08","EMP_PRO_09","EMP_PRO_10"
    ];

    // Mapping type → description
    const refTypeDescriptions = {
        "A01": "A01 description",
        "A02": "A02 description",
        "A03": "A03 description",
        "A04": "A04 description",
        "A05": "A05 description",
        "A06": "A06 description",
        "A07": "A07 description",
        "A08": "A08 description",
        "A09": "A09 description",
        "A10": "A10 description",
        "A11": "A11 description",
        "A12": "A12 description",
        "A13": "A13 description",
        "A14": "A14 description",
        "A15": "A15 description",
        "A16": "A16 description",
        "A17": "A17 description",
        "A18": "A18 description",
        "A19": "A19 description",
        "A20": "A20 description",
        "A21": "A21 description",
        "A22": "A22 description",
        "A23": "A23 description",
        "A24": "A24 description",
        "A25": "A25 description",
        "A26": "A26 description",
        "A27": "A27 description",
        "A28": "A28 description",
        "A29": "A29 description",
        "A30": "A30 description",
        "A31": "A31 description",
        "A32": "A32 description",
        "EMP_PRO_01": "Employee Process 01",
        "EMP_PRO_02": "Employee Process 02",
        "EMP_PRO_03": "Employee Process 03",
        "EMP_PRO_04": "Employee Process 04",
        "EMP_PRO_05": "Employee Process 05",
        "EMP_PRO_06": "Employee Process 06",
        "EMP_PRO_07": "Employee Process 07",
        "EMP_PRO_08": "Employee Process 08",
        "EMP_PRO_09": "Employee Process 09",
        "EMP_PRO_10": "Employee Process 10"
    };

    const select = document.getElementById("ref_type");
    const descInput = document.getElementById("ref_type_desc");

    // Populate select with options
    refTypes.forEach(type => {
        const opt = document.createElement("option");
        opt.value = type;
        opt.text = type;
        select.appendChild(opt);
    });

    // Only update description when dropdown changes
    select.addEventListener("change", function () {
        const chosen = this.value;
        descInput.value = refTypeDescriptions[chosen] || "";
    });
});

	

	</script>

</head>


<body>

	<div class="col-sm-2">
		<div th:insert="BGLSHeaderMenu :: header"></div>
	</div>
	<!---------------------User List Starts------------------------------------------------------->
	<!-- Start Content-->
	<div class="container-manager">
		<div class="row">
			<div class="col-sm-11 ml-5 mt-2">
				<div th:if="${formmode}=='list'">
					<div class="card filterable" >
						<div class="card-header"
							style="background-color: #e9ecef; height: 50px">

							<div class="float-left">
								<h6 style="font-size: 1.2rem; color: black;">REFERENCE CODE
									MAINTENANCE</h6>
							</div>
							<div class="float-right">
								<button type="button" class="btn-primary big-btn btn-filter">Filter</button>
								<button class="btn-primary big-btn" onclick="add();">Add</button>
							</div>
						</div>
						<div class="mt-3"
							style="padding: 4px 4px; position: relative; display: flex; justify-content: space-around; width: 100%;">
							<!-- Tab buttons -->
							<button class="tablinks active rounded-pill" id="RefButton"
								onclick="RefCode(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Reference
								Code Maintenance</button>
							<button class="tablinks rounded-pill" id="GLButton"
								onclick="GLStruct(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">GL
								Structure</button>
							<button class="tablinks rounded-pill" id="param"
								onclick="SchemeCode(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Scheme
								Codes</button>
							<button class="tablinks rounded-pill" id="chartOfAccounts"
								onclick="Chart(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Chart
								of Accounts</button>
							<button class="tablinks rounded-pill" id="accountLedger"
								onclick="Account(this);"
								style="font-size: 16px; padding: 4px 8px; height: 40%; width: 18%;">Account
								Ledger</button>
						</div>

						<div class="card-body"     style="overflow-y: auto; border: 1px solid #ddd;">

							<!-- <div class="card-header "
								style="background-color: #e9ecef; height: 50px">

								<div class="float-left">
									<h6 style="font-size: 1.2rem; color: black;">REFERENCE CODE
									MAINTENANCE</h6>
								</div>

								<div class="float-right">
									<button class="btn-primary big-btn" onclick="add();">Add</button>

								</div>

							</div> -->
							<div  class="table-responsive" id="cardBody">
							<table class="table table-bordered  table-hover table-sm"
								style="margin-bottom: 0px; font-size: initial;"
								id="AssosiateTable">
								<thead class="thead-light" style="position: sticky; top: 0;background-color: #f8f9fa; z-index: 1;">
									<tr class="filters text-center">
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="REF TYPE" disabled></th>
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="TYPE DESC" disabled></th>
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="REF ID" disabled></th>
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="REF DESC" disabled></th>
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="MODULE ID" disabled></th>
									    <th><input type="text" 
											class="form-control font-weight-bold text-center" 
											placeholder="ACTION" disabled></th>
									</tr>
								</thead>
								<tbody id="placelist">

									<tr th:each="EmployeeData,iterator : ${refList}"
   										>
										<td th:text="${EmployeeData.ref_type}"></td>
										<td th:text="${#strings.replace(EmployeeData.ref_type_desc, '_', ' ')}"></td>
										<td th:text="${EmployeeData.ref_id}"
										style="color: #007bff; cursor: pointer;"
										 th:attr="onclick=|rowClick('${EmployeeData.ref_id}')|"
										></td>
										<td th:text="${EmployeeData.ref_id_desc}"></td>
										<td th:text="${EmployeeData.module_id}"></td>
										
										<!-- <td class="text-center" style="width: 100px;">
											<label style="display: inline-block; font-weight: 500; cursor: pointer;">
												<input type="radio" name="editMode"
													th:value="${EmployeeData.ref_id}"
													style="transform: scale(1.3); margin-right: 5px; cursor: pointer;"
													onchange="redirectToEdit(this)"
													th:checked="${false}">
											</label>
										</td> -->


										<td class="text-center" style="width: 100px;">
											<div class="dropdown action-dropdown">
												<button class="btn btn-action dropdown-toggle" style="padding:0px"
														type="button" id="dropdownMenuButton" title="Action"
														data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Action
												</button>

												<div class="dropdown-menu" style="padding:0px" aria-labelledby="dropdownMenuButton">
													<!-- Edit / Redirect -->
													<a class="dropdown-item edit-item"
													th:attr="data-refid=${EmployeeData.ref_id}"
													title="Edit"
													onclick="redirectToEdit(this)">Edit</a>

													<div class="dropdown-divider"></div>

													<!-- Delete -->
													<a class="dropdown-item delete-item"
													th:attr="data-refid=${EmployeeData.ref_id}"
													title="Delete"
													onclick="redirectToDelete(this)">Delete</a>
												</div>
											</div>
										</td>

										



										
									</tr>

								</tbody>

							</table>
							</div>
							<div class="card-footer text-center"
								style="background-color: #e9ecef;">


								<button class="btn-primary big-btn" onclick="Home();">Home</button>
								<button class="btn-primary big-btn" onclick="Back();">Back</button>

							</div>
						</div>

					</div>

				</div>

				<div th:if="${formmode}=='nav'">
					<div class="card">
						<div class="card-header "
							style="background-color: #e9ecef; height: 50px">

							<div class="float-left">
								<h6 style="font-size: 1.2rem; color: black;">REFERENCE CODE
									MAINTENANCE - ADD</h6>
							</div>
						</div>

						<div class="card-body">
							<form class="border border-secondary" action="#" method="post"
								id="refForm" autocomplete="off">
								<div class="row formline" style="padding: 10px 0px 2px 0px;">


									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Reference
										Type</div>
									<div class="col-sm-2 d-flex align-items-center">

										<!-- <select name="ref_type" id="ref_type"
											onchange="updateTypeDescription()"
											class="form-control form-control-sm bg-white border border-dark">
											<option value="">Select</option>
											<th:block th:each="code : ${refType}">
												<option th:value="${code}" th:text="${code}"></option>
											</th:block>
										</select> -->

										<!-- onchange="updateTypeDescription()" -->
										 
										<select name="ref_type" id="ref_type"			
												class="form-control form-control-sm bg-white border border-dark">
											<option value="">Select</option>
										</select>
									</div>

									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Type
										Descriptions</div>
									<div class="col-sm-2 d-flex align-items-center">

										<input type="text" name="ref_type_desc" id="ref_type_desc"
											class="form-control form-control-sm bg-white border border-dark" />

									</div>
								</div>

								<div class="row formline" style="padding: 0px 0px 2px 0px;">


									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Reference
										Id</div>


									<div class="col-sm-2 d-flex align-items-center">
										<input type="text" name="ref_id" id="ref_id"
											class="form-control form-control-sm bg-white border border-dark"
											required />

									</div>

									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Reference
										Descriptions</div>
									<div class="col-sm-2 d-flex align-items-center">

										<input type="text" name="ref_id_desc" id="ref_id_desc"
											class="form-control form-control-sm bg-white border border-dark" />

									</div>
								</div>

								<div class="row formline" style="padding: 0px 0px 10px 0px;">


									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Module</div>


									<div class="col-sm-2 d-flex align-items-center">
										<input type="text" name="module_id" id="module_id"
											class="form-control form-control-sm bg-white border border-dark"
											required />

									</div>

									<div class="col-sm-1"></div>
									<div class="col-sm-2 d-flex align-items-center">Remarks</div>
									<div class="col-sm-2 d-flex align-items-center">

										<input type="text" name="remarks" id="remarks"
											class="form-control form-control-sm bg-white border border-dark" />

									</div>
								</div>
							</form>
						</div>
						<div class="card-footer text-center"
							style="background-color: #e9ecef;">


							<button class="btn-primary big-btn" onclick="Home();">Home</button>
							<button class="btn-primary big-btn" onclick="Submit();">Submit</button>
							<button class="btn-primary big-btn" onclick="Back();">Back</button>

						</div>

					</div>
				</div>


			</div>
		</div>
	</div>
	
	<div class="modal fade" data-backdrop="false" data-keyboard="false"
		id="alert" tabindex="-1" role="dialog" aria-hidden="true">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">

				<div class="modal-body" style="text-align: center;">
					<h6 id="alertmsg"></h6>
					<button type="button" class="btn-primary big-btn" onclick="list()">Close</button>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" data-backdrop="false" data-keyboard="false"
		id="alert1" tabindex="-1" role="dialog" aria-hidden="true">
		<div
			class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
			<div class="modal-content">

				<div class="modal-body" style="text-align: center;">
					<h6 id="alertmsg1"></h6>
					<button type="button" class="btn-primary big-btn"
						onclick="$('#alert1').modal('hide')">Close</button>
				</div>
			</div>
		</div>
	</div>


</body>
</html>
